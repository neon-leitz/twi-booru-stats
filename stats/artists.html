<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>TWI Booru Stats</title>

    <!-- Plotly -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js" charset="utf-8"></script>

    <!-- CSS links -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>

  <body>
    <nav>
      <a href="/twi-booru-stats/stats">Home</a>
      <a href="/twi-booru-stats/stats/characters.html">Characters</a>
      <a href="/twi-booru-stats/stats/artists.html">Artists</a>
      <a href="/twi-booru-stats/stats/books.html">Books</a>
      <a href="/twi-booru-stats/stats/volumes.html">Volumes</a>
    </nav>
    <main id="chart"></main>
  </body>
</html>

<script type="text/javascript" src="js/default_config.js"></script>
<script type="module">
  let artist_tags = await fetch("data/artist_tags.json")
    .then(response => {
      if (!response.ok) {
        throw new Error("HTTP error " + response.status );
      }
      return response.json();
    })

  let data = {
    y: Object.values(artist_tags["tag"]).slice(0, 25).reverse(),
    x: Object.values(artist_tags["uses"]).slice(0, 25).reverse(),
    marker: {
      color: default_bar_colors,
    },
    type: "bar",
    orientation: "h",
  }
  data = [data];

  Plotly.newPlot("chart", data, default_layout, {
    displaylogo: false,
    displayModeBar: true,
    responsive: true,
  });
</script>
